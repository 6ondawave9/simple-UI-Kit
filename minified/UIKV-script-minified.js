class UIKVCustomSelect{constructor(a){const{blockId:b,options:c,defaultValue:d}=a;let e=document.querySelector(`#${b}`);this.options=c,this.val=d?d:c[0];let f=document.createElement("div");f.classList.add("UIKV-custom-select-box");let g=this.options.reduce((a,b)=>a.length>b.length?a:b,"");g=g.length>=this.val.length?g:this.val,f.style.width=8*g.length+18+"px",f.style.display="flex",f.style.alignItems="center",e.appendChild(f),this.choosedOption=document.createElement("div"),this.choosedOption.innerText=this.val,f.appendChild(this.choosedOption);let h=document.createElement("div");h.classList.add("UIKV-custom-select-arrow"),f.appendChild(h);let i=document.createElement("div");i.classList.add("UIKV-custom-select-options-list"),i.style.top=f.getBoundingClientRect().height+"px",e.appendChild(i),i.style.display="none",e.addEventListener("click",()=>{"none"==i.style.display?(h.style.transform="rotate(135deg)",i.style.display="block",f.style.borderBottomLeftRadius="0px",f.style.borderBottomRightRadius="0px",f.style.border="2px solid var(--dark-color)"):(h.style.transform="rotate(-45deg)",i.style.display="none",f.style.borderBottomLeftRadius="10px",f.style.borderBottomRightRadius="10px",f.style.border="")}),this.optionsBlocks=[],this.options.forEach(a=>{let b=document.createElement("div");b.classList.add("UIKV-custom-select-option"),b.style.width=Math.ceil(e.getBoundingClientRect().width)+"px",b.innerText=a,a==this.val&&(b.style.textDecoration="underline"),i.appendChild(b),b.addEventListener("click",a=>{this.chooseOption(a.target)}),this.optionsBlocks.push(b)}),this.optionsBlocks[this.optionsBlocks.length-1].style.borderBottomLeftRadius="10px",this.optionsBlocks[this.optionsBlocks.length-1].style.borderBottomRightRadius="10px",this.optionsBlocks[0].style.borderTop="0px solid transparent",this.optionsBlocks[0].style.paddingTop="4px",document.addEventListener("click",a=>{a.target!=f&&a.target!=this.choosedOption&&a.target!=h&&(i.style.display="none",f.style.borderBottomLeftRadius="10px",f.style.borderBottomRightRadius="10px",f.style.border="",h.style.transform="rotate(-45deg)")})}chooseOption(a){this.val=a.innerText,this.choosedOption.innerText=a.innerText,this.optionsBlocks.forEach(a=>{a.style.textDecoration="none"}),a.style.textDecoration="underline",this.optionsBlocks[0].style.borderTop="0px solid transparent"}set value(b){this.optionsBlocks.forEach(a=>{a.innerText==b&&(this.val=b,this.chooseOption(a))})}get value(){return this.val}}
